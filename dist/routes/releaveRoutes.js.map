{"version":3,"sources":["../../src/routes/releaveRoutes.js"],"names":["module","exports","app","controller","require","strings","express_jwt","use","authenticate","handle_auth_error","route","post","upsert_fb_user","check_auth","generate_token","send_token","get","get_current_user","get_one","create_charge","get_user","put","update_user","delete","delete_user","create_user","get_restroom","update_restroom","delete_restroom","create_restroom","get_area_restrooms"],"mappings":"AAAA;;AACAA,OAAOC,OAAP,GAAiB,UAASC,GAAT,EAAc;AAC9B,KAAIC,aAAaC,QAAQ,kCAAR,CAAjB;AAAA,KACAC,UAAUD,QAAQ,oBAAR,CADV;AAAA,KAEAE,cAAcF,QAAQ,aAAR,CAFd;;AAIA;AACA;AACAF,KAAIK,GAAJ,CAAQJ,WAAWK,YAAnB,EAAiCL,WAAWM,iBAA5C;;AAEA;AACAP,KAAIQ,KAAJ,CAAU,oBAAV,EACEC,IADF,CACOR,WAAWS,cADlB,EAEET,WAAWU,UAFb,EAGEV,WAAWW,cAHb,EAIEX,WAAWY,UAJb;;AAMA;AACAb,KAAIQ,KAAJ,CAAU,UAAV,EACEM,GADF,CACMb,WAAWc,gBADjB,EACmCd,WAAWe,OAD9C;;AAGA;AACAhB,KAAIQ,KAAJ,CAAU,SAAV,EACEC,IADF,CACOR,WAAWgB,aADlB;;AAGA;AACAjB,KAAIQ,KAAJ,CAAU,YAAV,EACEM,GADF,CACMb,WAAWiB,QADjB,EAEEC,GAFF,CAEMlB,WAAWmB,WAFjB,EAGEC,MAHF,CAGSpB,WAAWqB,WAHpB;;AAKAtB,KAAIQ,KAAJ,CAAU,QAAV,EACEC,IADF,CACOR,WAAWsB,WADlB;;AAGA;AACAvB,KAAIQ,KAAJ,CAAU,gBAAV,EACEM,GADF,CACMb,WAAWuB,YADjB,EAEEL,GAFF,CAEMlB,WAAWwB,eAFjB,EAGEJ,MAHF,CAGSpB,WAAWyB,eAHpB;;AAKA1B,KAAIQ,KAAJ,CAAU,YAAV,EACEC,IADF,CACOR,WAAW0B,eADlB;;AAGA3B,KAAIQ,KAAJ,CAAU,iBAAV,EACEM,GADF,CACMb,WAAW2B,kBADjB;AAEA,CA5CD","file":"releaveRoutes.js","sourcesContent":["\"use strict\";\nmodule.exports = function(app) {\n\tvar controller = require('../controllers/releaveController'),\n\tstrings = require('../private_strings'),\n\texpress_jwt = require('express-jwt');\n\n\t// Global routes\n\t// Check authorization for each endpoint\n\tapp.use(controller.authenticate, controller.handle_auth_error);\n\n\t// Authenticate route\n\tapp.route('/auth/facebook/:id')\n\t\t.post(controller.upsert_fb_user,\n\t\t\tcontroller.check_auth,\n\t\t\tcontroller.generate_token,\n\t\t\tcontroller.send_token);\n\n\t// Get current user route\n\tapp.route('/auth/me')\n\t\t.get(controller.get_current_user, controller.get_one);\n\n\t// Stripe route\n\tapp.route('/charge')\n\t\t.post(controller.create_charge);\n\n\t// User routes\n\tapp.route('/users/:id')\n\t\t.get(controller.get_user)\n\t\t.put(controller.update_user)\n\t\t.delete(controller.delete_user);\n\n\tapp.route('/users')\n\t\t.post(controller.create_user);\n\n\t// Restroom routes\n\tapp.route('/restrooms/:id')\n\t\t.get(controller.get_restroom)\n\t\t.put(controller.update_restroom)\n\t\t.delete(controller.delete_restroom);\n\n\tapp.route('/restrooms')\n\t\t.post(controller.create_restroom);\n\n\tapp.route('/area_restrooms')\n\t\t.get(controller.get_area_restrooms);\n};\n"]}